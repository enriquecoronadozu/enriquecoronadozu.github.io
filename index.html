<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Robotics & HRI — Research Portfolio</title>
  <!-- Tailwind Play CDN (for demo / quick start) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <!-- Icons (Lucide via CDN) -->
  <script type="module" src="https://unpkg.com/lucide@latest"></script>
  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <style>
    /* Smooth page zoom by changing root font size (Tailwind uses rem) */
    :root {
      --font-scale: 16px;
    }

    html {
      font-size: var(--font-scale);
      transition: font-size .2s ease;
    }

    /* Respect user/system theme on first load */
    @media (prefers-color-scheme: dark) {
      :root {
        color-scheme: dark;
      }
    }

    /* Subtle animated grid background */
    .grid-bg {
      background-image: linear-gradient(to right, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 1px, transparent 1px);
      background-size: 24px 24px;
      position: relative;
      overflow: hidden;
    }

    .scanline:before {
      content: '';
      position: absolute;
      inset: -100% 0 0;
      background: linear-gradient(180deg, transparent, rgba(59, 245, 255, .05), transparent);
      animation: scan 6s linear infinite;
    }

    @keyframes scan {
      from {
        transform: translateY(-100%)
      }

      to {
        transform: translateY(100%)
      }
    }

    .fade-up {
      opacity: 0;
      transform: translateY(12px);
      transition: all .6s ease
    }

    .fade-up.show {
      opacity: 1;
      transform: none
    }

    svg {
      width: min(960px, 96vw);
      height: auto;
      background: transparent;
    }


    .stageFrame {
      fill: none;
    }

    .link {
      fill: url(#linkGrad);
    }

    .joint {
      fill: #0f111a;
      stroke: #3ce8f2;
      stroke-width: 2;
    }

    .ee {
      fill: #0f111a;
      stroke: #8d8bff;
      stroke-width: 2;
    }

    .gripBase {
      fill: #151a28;
      stroke: #6ea8ff;
      stroke-width: 1.5;
      opacity: .9;
    }

    .jaw,
    .jawFixed {
      stroke: #9cd2ff;
      stroke-width: 1.5;
    }

    .jaw {
      fill: #1b2a55;
    }

    .jawFixed {
      fill: #26376b;
      opacity: .9;
    }

    .pad {
      fill: #13223a;
      stroke: #214a8a;
      stroke-width: 1;
      opacity: .85;
    }

    .cube {
      fill: #2fe3ff;
      stroke: #0bbcd1;
      stroke-width: 2;
    }
  </style>
</head>

<body class="bg-white text-zinc-900 dark:bg-zinc-950 dark:text-zinc-100 selection:bg-primary-400/40">
  <div id="app" class="min-h-screen">
    <!-- NAVBAR -->
    <header class="sticky top-0 z-50 backdrop-blur border-b border-white/5 bg-zinc-950/70">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
        <div class="flex items-center gap-3">
          <span
            class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-primary-500/10 ring-1 ring-primary-500/30 shadow-glow">
            <!-- Simple robot arm icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="text-primary-300">
              <path d="M4 20h16" />
              <path d="M4 16h2l3-6 5 2 4-8" />
              <circle cx="14" cy="12" r="1.5" />
            </svg>
          </span>
          <a href="#" class="font-semibold tracking-tight">{{ meta.name }}</a>
          <span class="text-xs px-2 py-0.5 rounded-full bg-white/5 border border-white/10">Robotics & HRI</span>
        </div>
        <ul class="hidden md:flex items-center gap-6 text-sm">
          <li v-for="item in nav" :key="item.href">
            <a :href="item.href" class="text-zinc-300 hover:text-white relative group">
              {{ item.label }}
              <span class="absolute left-0 -bottom-1 h-0.5 w-0 bg-primary-400 transition-all group-hover:w-full"></span>
            </a>
          </li>
        </ul>
        <div class="flex items-center gap-2">
          <!-- Zoom controls -->
          <div
            class="hidden sm:flex items-center rounded-lg border border-white/10 dark:border-white/10 border-zinc-200">
            <button @click="zoomOut" class="px-2 py-1 text-sm hover:bg-black/5 dark:hover:bg-white/10"
              title="Zoom out (−)">
              <i data-lucide="minus" class="w-4 h-4"></i>
            </button>
            <div class="px-2 py-1 text-xs tabular-nums min-w-[3.5rem] text-center">
              {{ Math.round(uiScale * 100) }}%
            </div>
            <button @click="zoomIn" class="px-2 py-1 text-sm hover:bg-black/5 dark:hover:bg-white/10"
              title="Zoom in (+)">
              <i data-lucide="plus" class="w-4 h-4"></i>
            </button>
            <button @click="zoomReset" class="px-2 py-1 text-xs hover:bg-black/5 dark:hover:bg-white/10" title="Reset">
              Reset
            </button>
          </div>
        </div>
      </nav>
    </header>



    <!-- HERO -->
    <section class="relative grid-bg scanline">
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(59,245,255,.12),transparent_30%),radial-gradient(circle_at_80%_0%,rgba(99,102,241,.12),transparent_30%)]">
      </div>
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-24 relative">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div class="fade-up">
            <p class="text-xs uppercase tracking-[0.2em] text-zinc-400">{{ meta.tagline }}</p>
            <h1 class="mt-3 text-4xl sm:text-5xl font-bold leading-tight">
              {{ meta.name }}
            </h1>
            <p class="mt-2 text-lg text-primary-300 font-medium">{{ meta.position }} — {{ meta.affiliation }}</p>
            <p class="mt-4 text-zinc-300 max-w-prose">I design plug‑and‑play frameworks that blend <span
                class="text-primary-300">LLMs</span>, <span class="text-primary-300">multimodal interfaces</span>, and
              <span class="text-primary-300">digital twins</span> for safe, intuitive collaboration between humans and
              robots.
            </p>
            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#projects"
                class="px-4 py-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10">Projects
                & Demos</a>
              <a href="#bio"
                class="px-4 py-2 rounded-xl bg-primary-500/20 border border-primary-500/40 text-primary-100 hover:bg-primary-500/30">Biography</a>
            </div>
            <div class="mt-6 flex flex-wrap gap-2 text-xs text-zinc-400">
              <span class="px-2 py-1 rounded bg-white/5 border border-white/10">ROS 2</span>
              <span class="px-2 py-1 rounded bg-white/5 border border-white/10">Isaac Sim</span>
              <span class="px-2 py-1 rounded bg-white/5 border border-white/10">Unity</span>
              <span class="px-2 py-1 rounded bg-white/5 border border-white/10">ZeroMQ </span>
              <span class="px-2 py-1 rounded bg-white/5 border border-white/10">LLMs • VLMs</span>
            </div>
          </div>
          <!-- Animated 3-DOF arm (your code) -->
          <svg viewBox="0 0 920 580">
            <defs>
              <linearGradient id="linkGrad" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#23d5e6" />
                <stop offset="100%" stop-color="#2d3c9a" />
              </linearGradient>
              <clipPath id="stageClip" clipPathUnits="userSpaceOnUse">
                <rect x="20" y="20" width="880" height="540" rx="14" ry="14"></rect>
              </clipPath>
            </defs>

            <rect class="stageFrame" x="20" y="20" width="880" height="540" rx="14" ry="14"></rect>

            <g clip-path="url(#stageClip)">
              <!-- Grid -->
              <g class="grid">
                <g>
                  <line x1="80" y1="20" x2="80" y2="560" />
                  <line x1="180" y1="20" x2="180" y2="560" />
                  <line x1="280" y1="20" x2="280" y2="560" />
                  <line x1="380" y1="20" x2="380" y2="560" />
                  <line x1="480" y1="20" x2="480" y2="560" />
                  <line x1="580" y1="20" x2="580" y2="560" />
                  <line x1="680" y1="20" x2="680" y2="560" />
                  <line x1="780" y1="20" x2="780" y2="560" />
                </g>
                <g>
                  <line x1="20" y1="80" x2="900" y2="80" />
                  <line x1="20" y1="160" x2="900" y2="160" />
                  <line x1="20" y1="240" x2="900" y2="240" />
                  <line x1="20" y1="320" x2="900" y2="320" />
                  <line x1="20" y1="400" x2="900" y2="400" />
                  <line x1="20" y1="480" x2="900" y2="480" />
                </g>
              </g>

              <!-- Pads (world space) -->
              <!-- pick pad -->
              <rect class="pad" x="465" y="420" width="60" height="12" rx="3"></rect>
              <!-- lift/place pad -->
              <rect class="pad" x="315" y="390" width="60" height="12" rx="3"></rect>

              <!-- Cube (world space) – starts on pick pad, centered -->
              <!-- pad center = x+30; cube is 28x => center offset 14 -->
              <!-- y on top of pad = padY - cubeSize -->
              <rect id="cube" class="cube" x="481" y="392" width="28" height="28" rx="3"></rect>

              <!-- ROBOT -->
              <g id="robot" transform="translate(240,380) scale(0.95)">
                <rect x="-56" y="18" width="112" height="22" rx="6" fill="#1b2233"></rect>
                <circle cx="0" cy="0" r="14" class="joint"></circle>

                <!-- Joint 1 -->
                <g id="j1" transform="rotate(0)">
                  <rect x="0" y="-12" width="180" height="24" rx="12" class="link"></rect>
                  <circle cx="0" cy="0" r="10" class="joint"></circle>

                  <!-- end of L1 -->
                  <g transform="translate(180,0)">
                    <!-- Joint 2 -->
                    <g id="j2" transform="rotate(0)">
                      <rect x="0" y="-10" width="140" height="20" rx="10" class="link"></rect>
                      <circle cx="0" cy="0" r="9" class="joint"></circle>

                      <!-- end of L2 -->
                      <g transform="translate(140,0)">
                        <!-- Joint 3 (wrist) -->
                        <g id="j3" transform="rotate(0)">
                          <rect x="0" y="-9" width="110" height="18" rx="9" class="link"></rect>
                          <circle cx="0" cy="0" r="8" class="joint"></circle>

                          <!-- End-effector (parallel gripper rotated 90°) -->
                          <g id="ee" transform="translate(110,0)">
                            <circle cx="0" cy="0" r="9" class="ee"></circle>

                            <g id="eeInner" transform="translate(30,0)">
                              <g id="j3Inner" transform="rotate(90)">
                                <!-- gripper body -->
                                <rect class="gripBase" x="-14" y="20" width="28" height="24" rx="4"></rect>

                                <!-- fixed bar -->
                                <g id="jawFixed" transform="translate(0,18)">
                                  <rect class="jawFixed" x="-20" y="-3" width="40" height="6" rx="2"></rect>
                                </g>

                                <!-- anchor used to attach payload so it follows the EE exactly -->
                                <g id="payloadAnchor"></g>

                                <!-- moving jaws (I  I) -->
                                <g id="jawL" transform="translate(-14,0)">
                                  <rect class="jaw" x="-3" y="-20" width="6" height="40" rx="2"></rect>
                                </g>
                                <g id="jawR" transform="translate(14,0)">
                                  <rect class="jaw" x="-3" y="-20" width="6" height="40" rx="2"></rect>
                                </g>
                              </g>
                            </g>
                          </g>
                          <!-- /EE -->
                        </g>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </g>
          </svg>
        </div>
      </div>
    </section>

    <!-- NEWS & UPDATES -->
    <section id="news" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="fade-up flex items-end justify-between gap-4 flex-wrap">
          <div>
            <h2 class="text-2xl font-semibold">News & Updates</h2>
            <p class="mt-2 text-zinc-400">Recent milestones: Awards and Nominations, Software releases, and Q1 Journal Publications</p>
          </div>
          <a :href="meta.linkedin" target="_blank" rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm">
            <i data-lucide="linkedin" class="w-4 h-4"></i>
            Follow on LinkedIn
          </a>
        </div>

        <ol class="mt-6 space-y-4">
          <li v-for="n in newsSorted" :key="n.date + n.title"
            class="fade-up grid grid-cols-[120px,1fr] gap-4 p-5 rounded-2xl bg-white/[0.02] border border-white/10">
            <!-- Date + type -->
            <div class="relative pl-5">
              <span
                class="absolute left-0 top-1.5 h-2 w-2 rounded-full bg-primary-400/80 ring-2 ring-primary-400/20"></span>
              <div class="text-xs text-zinc-500">{{ formatDate(n.date) }}</div>
              <div v-if="n.type"
                class="mt-1 inline-block text-[11px] px-2 py-0.5 rounded bg-white/5 border border-white/10 text-zinc-300">
                {{ n.type }}
              </div>
            </div>

            <!-- Content -->
            <div>
              <div class="font-medium">{{ n.title }}</div>
            </div>
          </li>
        </ol>
      </div>
    </section>



    <!-- CURRENT PROJECTS -->
    <section id="current-projects" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="fade-up">
          <h2 class="text-2xl font-semibold">Ongoing Projects for Interships</h2>
          <p class="mt-2 text-zinc-400">Active lines across Human–Robot Interaction, Social Robotics, and Digital twins.
          </p>
        </div>

        <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <article v-for="p in currentProjects" :key="p.title"
            class="fade-up rounded-2xl border border-white/10 bg-white/[0.02] p-5 hover:shadow-glow">
            <div class="flex items-center gap-3">
              <span
                class="h-9 w-9 rounded-lg bg-primary-500/15 border border-primary-500/30 flex items-center justify-center">
                <i :data-lucide="p.icon" class="w-4 h-4 text-primary-300"></i>
              </span>
              <div class="flex-1">
                <h3 class="font-medium">{{ p.title }}</h3>
                <div class="mt-1 flex items-center gap-2 text-xs text-zinc-500">
                  <span v-if="p.since">Since {{ p.since }}</span>
                  <span v-if="p.status"
                    class="px-1.5 py-0.5 rounded bg-white/5 border border-white/10 text-[11px] text-zinc-300">
                    {{ p.status }}
                  </span>
                </div>
              </div>
            </div>
            <p class="mt-3 text-sm text-zinc-400">{{ p.desc }}</p>
            <ul class="mt-3 flex flex-wrap gap-2 text-[11px] text-zinc-400">
              <li v-for="t in p.tags" :key="t" class="px-2 py-0.5 rounded bg-white/5 border border-white/10">{{ t }}
              </li>
            </ul>
          </article>
        </div>
      </div>
    </section>



    <!-- PROJECTS & DEMOS -->
    <section id="projects" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 fade-up">
          <div>
            <h2 class="text-2xl font-semibold">Completed projects & demos</h2>
            <p class="mt-2 text-zinc-400">Hands‑on systems, open‑source tools, and real‑world deployments.</p>
          </div>
          <div class="flex items-center gap-2">
            <!--  <input v-model="query" type="text" placeholder="Search projects…"
              class="px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary-400/40" />
            <select v-model="filter" class="px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm">
              <option value="all">All</option>
              <option value="HRI">HRI</option>
              <option value="Teleoperation">Teleoperation</option>
              <option value="Digital Twin">Digital Twin</option>
              <option value="Standardization">Standardization</option>
            </select>-->
          </div>
        </div>

        <div class="mt-8 grid md:grid-cols-2 xl:grid-cols-3 gap-6">
          <div v-for="p in filteredProjects" :key="p.title"
            class="fade-up group rounded-2xl border border-white/10 overflow-hidden bg-white/[0.02] hover:shadow-glow">
            <!-- Video Embed -->
            <div class="aspect-video relative">
              <!-- Make overlay ignore clicks -->
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-primary-500/20 to-transparent">
              </div>

              <iframe v-if="p.youtube" class="w-full h-full"
                :src="`https://www.youtube.com/embed/${p.youtube}?rel=0&modestbranding=1&controls=1`"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" loading="lazy" allowfullscreen></iframe>
            </div>

            <!-- Project Details -->
            <div class="p-5">
              <div class="flex items-center gap-2 text-xs text-zinc-400">
                <span>{{ p.year }}</span>
              </div>
              <h3 class="mt-2 font-medium group-hover:text-white">{{ p.title }}</h3>
              <p class="mt-1 text-sm text-zinc-400">{{ p.desc }}</p>
              <div class="mt-3 flex flex-wrap gap-2 text-[11px] text-zinc-400">
                <span v-for="t in p.tags" :key="t" class="px-2 py-0.5 rounded bg-white/5 border border-white/10">{{ t
                  }}</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- PUBLICATIONS -->
    <section id="publications" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="fade-up flex items-end justify-between gap-4 flex-wrap">
          <div>
            <h2 class="text-2xl font-semibold">Selected publications</h2>
            <p class="mt-2 text-zinc-400">High-impact, peer-reviewed research</p>
          </div>
          <a :href="meta.scholar" target="_blank" rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 text-sm">
            <i data-lucide="graduation-cap" class="w-4 h-4"></i>
            View all on Google Scholar
          </a>
        </div>

        <ol class="mt-6 space-y-4">
          <li v-for="pub in publications" :key="pub.title"
            class="fade-up p-4 rounded-xl bg-white/[0.02] border border-white/10">
            <div class="text-sm text-zinc-400">{{ pub.year }} • {{ pub.venue }}</div>
            <div class="mt-1 font-medium">{{ pub.title }}</div>
            <div class="mt-1 text-sm text-zinc-400">{{ pub.authors }}</div>
            <div class="mt-2 flex gap-3 text-xs">
              <a v-if="pub.doi" :href="pub.doi" target="_blank"
                class="px-2 py-1 rounded bg-white/5 border border-white/10 hover:bg-white/10">DOI</a>
              <a v-if="pub.pdf" :href="pub.pdf" target="_blank"
                class="px-2 py-1 rounded bg-white/5 border border-white/10 hover:bg-white/10">PDF</a>
              <a v-if="pub.code" :href="pub.code" target="_blank"
                class="px-2 py-1 rounded bg-white/5 border border-white/10 hover:bg-white/10">Code</a>
            </div>
          </li>
        </ol>
      </div>
    </section>


    <!-- BIOGRAPHY -->
    <section id="bio" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="fade-up flex items-end justify-between gap-4">
          <div>
            <h2 class="text-2xl font-semibold">Biography</h2>
            <p class="mt-2 text-zinc-400">Robotics with a human-centered lens.</p>
          </div>

        </div>

        <div class="mt-8 grid  gap-8 items-start">

          <!-- Bio + Timeline: half / half -->
          <main class="fade-up grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- BIO (left) -->
            <article
              class="rounded-2xl border border-white/10 bg-white/[0.02] p-6 space-y-4 text-justify [hyphens:auto]">
              <p class="text-zinc-300 leading-relaxed">
                Enrique Coronado holds a B.S. in Mechatronics Engineering (2012) from the Autonomous University of San
                Luis Potosí (UASLP), Mexico, an M.S. in Advanced Robotics (2017) through the EMARO+ program in Italy and
                France, and a Ph.D. in Mechanical Systems Engineering (2020) from the Tokyo University of Agriculture
                and Technology (TUAT), Japan. He has served as an Assistant Professor (2020–2022) at TUAT, and as a
                Researcher (2022–2024) at the National Institute of Advanced Industrial Science and Technology (AIST),
                Japan.
              </p>
              <p class="text-zinc-300 leading-relaxed">
                In 2024, Dr. Coronado became a Senior Researcher at AIST’s Human-Evolving AI & Robotics Team (HEART).
                His research blends
                human–robot interaction, multimodal interfaces, and large language models (LLMs) with digital twins to
                create plug-and-play robotic applications that are safer, more intuitive, and genuinely helpful.
              </p>

            </article>

            <!-- TIMELINE (right) -->
            <section class="rounded-2xl border border-white/10 bg-white/[0.02] p-6">
              <div class="flex items-center justify-between">
                <h3 class="font-medium">Timeline</h3>
                <div class="text-xs text-zinc-500">Education &amp; Positions</div>
              </div>

              <!-- Each item: date | details -->
              <ol class="mt-4 divide-y divide-white/5">
                <li v-for="item in bio.timeline" :key="item.when"
                  class="grid grid-cols-[110px,1fr] gap-4 py-3 items-start">
                  <!-- Date column with dot -->
                  <div class="relative pl-5 text-xs text-zinc-500">
                    <span
                      class="absolute left-0 top-1.5 h-2 w-2 rounded-full bg-primary-400/80 ring-2 ring-primary-400/20"></span>
                    {{ item.when }}
                  </div>
                  <!-- Details column -->
                  <div>
                    <div class="font-medium">{{ item.title }}</div>
                    <div class="text-sm text-zinc-500">{{ item.place }}</div>
                  </div>
                </li>
              </ol>
            </section>
          </main>

        </div>
      </div>
    </section>


    <!-- COLLABORATE -->
    <section id="collab" class="py-16 border-t border-white/5 bg-zinc-950">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="fade-up">
          <div class="flex items-center justify-between gap-4 flex-wrap">
            <div>
              <h2 class="text-2xl font-semibold">Collaborate with HEART @ AIST</h2>
              <p class="mt-2 text-zinc-400">
                We welcome international collaborators—postdocs, graduate and undergraduate international
                students—interested in
                <span class="text-primary-300">Human-Robot Interaction</span>, <span class="text-primary-300">Social and
                  Service Robotics</span>, <span class="text-primary-300">Robotic
                  Teleoperation, Shared Autonomy</span>,
                <span class="text-primary-300">LLMs/VLMs for Robotics</span>, and <span class="text-primary-300">Digital
                  Twins for Industry 5.0</span>.
              </p>

              <!-- Preferred channel -->
              <div class="mt-4 flex justify-center items-center gap-3">
                <a :href="meta.linkedin" target="_blank" rel="noopener noreferrer"
                  class="px-4 py-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 inline-flex items-center gap-2">
                  <i data-lucide="linkedin" class="w-4 h-4"></i>
                  First contact me via LinkedIn
                </a>
              </div>


              <!-- Cards -->
              <div class="mt-8 grid md:grid-cols-2 gap-6">
                <!-- Researchers -->
                <article class="fade-up rounded-2xl border border-white/10 bg-white/[0.02] p-6">
                  <div class="flex items-center gap-3">
                    <span
                      class="h-9 w-9 rounded-lg bg-primary-500/15 border border-primary-500/30 flex items-center justify-center">
                      <i data-lucide="handshake" class="w-4 h-4 text-primary-300"></i>
                    </span>
                    <h3 class="font-medium">For Researchers</h3>
                  </div>
                  <p class="mt-3 text-zinc-400 text-sm">
                    If you’re interested in my research, let’s co-define a joint study, dataset, or tool. Current
                    priorities include ergonomics and safety in manufacturing systems, social robots for well-being, and
                    intuitive, safety-aware teleoperation.
                  </p>
                  <ul class="mt-3 space-y-2 text-sm text-zinc-300">
                    <li class="flex items-start gap-2"><i data-lucide="sparkles"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Short research visits (1–3 months) or remote collaboration</li>
                    <li class="flex items-start gap-2"><i data-lucide="git-branch"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i> Co-authored papers, open-source releases, and demos
                    </li>
                    <li class="flex items-start gap-2"><i data-lucide="cpu" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Access to robots and compute</li>
                  </ul>
                </article>

                <!-- Postdocs & Students (International-friendly) -->
                <article class="fade-up rounded-2xl border border-white/10 bg-white/[0.02] p-6">
                  <div class="flex items-center gap-3">
                    <span
                      class="h-9 w-9 rounded-lg bg-primary-500/15 border border-primary-500/30 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-4 h-4 text-primary-300"></i>
                    </span>
                    <h3 class="font-medium">Postdocs & Interships (International)</h3>
                  </div>
                  <p class="mt-3 text-zinc-400 text-sm">
                    We regularly work with international postdocs, graduate and undergraduate students. If you’re in
                    Japan, AIST’s RA
                    system
                    may be available.
                    Outside Japan? We can explore fellowships and visiting positions. For undergraduate students you can
                    ask about technical training internships.
                  </p>
                  <ul class="mt-3 space-y-2 text-sm text-zinc-300">
                    <li class="flex items-start gap-2">
                      <i data-lucide="globe-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Visiting/postdoc paths for candidates abroad; consider fellowships such as JSPS <a
                        :href="meta.jspsUrl" target="_blank" class="underline hover:text-white ml-1">Learn more</a>
                    </li>
                    <li class="flex items-start gap-2">
                      <i data-lucide="message-square" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Communication skills on English or Spanish is required; basic Japanese is welcome but not required
                    </li>
                  </ul>
                </article>
              </div>

              <!-- How to reach out -->
              <div class="fade-up mt-8 mb-10 rounded-2xl border border-white/10 bg-white/[0.02] p-6">
                <h3 class="font-medium">What to send</h3>
                <div class="mt-3 grid md:grid-cols-2 gap-4 text-sm text-zinc-300">
                  <ul class="space-y-2">
                    <li class="flex items-start gap-2"><i data-lucide="file-text"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      CV / short bio + Google Scholar profile (optional)</li>
                    <li class="flex items-start gap-2"><i data-lucide="target"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      1–2 paragraph idea aligned with the focus areas</li>
                  </ul>
                  <ul class="space-y-2">
                    <li class="flex items-start gap-2"><i data-lucide="calendar"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Availability window (start/end dates, time zone)</li>
                    <li class="flex items-start gap-2"><i data-lucide="link"
                        class="w-4 h-4 text-primary-300 mt-0.5"></i>
                      Links to code, demos, or papers (if any)</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Skills we're looking for -->



            <h3 class="font-medium">Skills we’re looking for</h3>
            <p class="mt-2 text-zinc-400 text-sm">
              You don’t need all of these—bring your strengths and curiosity. We work at the intersection of
              <span class="text-primary-300">robotics technology</span>, and
              <span class="text-primary-300">social science</span>.
            </p>

            <div class="mt-5 grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Engineering & Robotics -->
              <div class="rounded-2xl border border-white/10 bg-white/[0.02] p-6">
                <div class="flex items-center gap-3">
                  <span
                    class="h-9 w-9 rounded-lg bg-primary-500/15 border border-primary-500/30 flex items-center justify-center">
                    <i data-lucide="wrench" class="w-4 h-4 text-primary-300"></i>
                  </span>
                  <h4 class="font-medium">Engineering & Robotics</h4>
                </div>
                <ul class="mt-4 space-y-2 text-sm text-zinc-300">
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    ROS 2, C++ or Python, Github, Docker, Ubuntu, OpenCV </li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Basic skills on Robot Kinematics, Dynamics, Control and Learning</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    3D modeling (Solid Works), Simulation (Blender, Unity, Unreal, NVIDIA Isaac Sim), 3D printing</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    LLM/VLM integration for robotics; tool use & prompting</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Machine Learning, Deep Learning, and AI integration</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Web development (HTML, CSS, JavaScript)</li>
                  <div class="mt-3 flex flex-wrap gap-2 text-[11px] text-zinc-400">
                    <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">JavaScript</span>
                    <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">LLMs/VLMs</span>
                    <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">ROS 2</span>
                    <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">Unity / Isaac Sim</span>
                  </div>
              </div>

              <!-- Social Science & Design -->
              <div class="rounded-2xl border border-white/10 bg-white/[0.02] p-6">
                <div class="flex items-center gap-3">
                  <span
                    class="h-9 w-9 rounded-lg bg-primary-500/15 border border-primary-500/30 flex items-center justify-center">
                    <i data-lucide="users" class="w-4 h-4 text-primary-300"></i>
                  </span>
                  <h4 class="font-medium">Social Science & Design</h4>
                </div>
                <ul class="mt-4 space-y-2 text-sm text-zinc-300">
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    HCI/HRI study design, ethics/IRB, participant studies</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Qualitative and Mixed methods (interviews, thematic analysis)</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Evaluation metrics (SUS, NASA-TLX, trust, well-being)</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    UX/UI design, Human-centered design</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Participatory/co-design, accessibility, cross-cultural research</li>
                  <li class="flex gap-2"><i data-lucide="check-circle-2" class="w-4 h-4 text-primary-300 mt-0.5"></i>
                    Design Thinking, Empathy Maps, Personas, User Journey Mapping, Scenarios, Prototyping, User Testing
                  </li>
                </ul>
                <div class="mt-3 flex flex-wrap gap-2 text-[11px] text-zinc-400">
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">User Studies</span>
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">Well-being</span>
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">Trust & Safety</span>
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">UX/UI </span>
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">Co-design</span>
                  <span class="px-2 py-0.5 rounded bg-white/5 border border-white/10">Design Thinking</span>
                </div>
              </div>
            </div>


    </section>


    <footer class="border-t border-white/5 py-8 text-center text-xs text-zinc-500">© {{ new Date().getFullYear() }} {{
      meta.name }} — Built with Vue 3 & Tailwind</footer>
  </div>

  <script>
    const { createApp, computed, onMounted } = Vue

    createApp({
      setup() {

        // UI scale (zoom)
        const uiScale = Vue.ref(1);

        // Theme (light/dark)
        const theme = Vue.ref('dark'); // default; will be corrected onMounted

        function applyScale() {
          const px = (16 * uiScale.value).toFixed(2) + 'px';
          document.documentElement.style.setProperty('--font-scale', px);
          localStorage.setItem('uiScale', String(uiScale.value));
          // refresh icons so sizes realign nicely
          requestAnimationFrame(() => lucide.createIcons());
        }

        function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }
        function zoomIn() { uiScale.value = clamp(uiScale.value + 0.1, 0.8, 1.6); applyScale(); }
        function zoomOut() { uiScale.value = clamp(uiScale.value - 0.1, 0.8, 1.6); applyScale(); }
        function zoomReset() { uiScale.value = 1.2; applyScale(); }

        function applyTheme(next) {
          theme.value = next;
          if (next === 'dark') document.documentElement.classList.add('dark');
          else document.documentElement.classList.remove('dark');
          localStorage.setItem('theme', next);
          requestAnimationFrame(() => lucide.createIcons());
        }


        // Initialize from saved prefs or system
        onMounted(() => {
          // Theme
          zoomReset();
          const savedTheme = localStorage.getItem('theme');
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));

          // Scale
          const savedScale = parseFloat(localStorage.getItem('uiScale') || '1');
          uiScale.value = isNaN(savedScale) ? 1 : savedScale;
          applyScale();

          // Icons + intersection observer you already have
          lucide.createIcons();
          const io = new IntersectionObserver(entries => {
            entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('show'); });
          }, { threshold: .12 });
          document.querySelectorAll('.fade-up').forEach(el => io.observe(el));
        });

        const news = Vue.ref([
          // Use ISO dates (YYYY-MM-DD)
          {
            date: '2025-07-22',
            type: 'Award',
            title: 'Our article "TeleSign: A Flexible and Intuitive Gesture-Based Teleoperation Framework" was nominated for the Best Paper Award at IEEE ARSO 2025, as a result of the internship contributions of students J. C. Hernández Ríos and J. I. Molina Daniel from Tec of Monterrey, Mexico',
            href: 'https://ieee-arso.org/awards/'
          },
          {
            date: '2024-11-13',
            type: 'Q1 Journal',
            title: 'Our article "Adaptive Contact-Rich Manipulation Through Few-Shot Imitation Learning With Force-Torque Feedback and Pre-Trained Object Representations" was accepted for publication on IEEE Robotics and Automation Letters, as a result of the internship contributions of student C. Tsuji from the University of Tokyo, Japan',
            href: 'https://ieeexplore.ieee.org/document/10752344'
          },
          {
            date: '2024-02-29',
            type: 'Award',
            title: 'Our article, "Evaluating Quality in Human-Robot Interaction: A Systematic Search and Classification of Performance and Human-Centered Factors, Measures, and Metrics towards Industry 5.0" was awarded the AIST ITH Best Paper Award',
            href: 'https://unit.aist.go.jp/icps/icps-am/news/2024/02/29/'
          },
        ])

        // Sorted (newest first)
        const newsSorted = computed(() =>
          [...news.value].sort((a, b) => new Date(b.date) - new Date(a.date))
        )

        // Optional: nice date formatter
        function formatDate(d) {
          const dt = new Date(d)
          return isNaN(dt) ? d : dt.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })
        }
        const meta = Vue.reactive({
          name: 'Enrique Coronado',
          position: 'Senior Researcher',
          affiliation: 'AIST, Tokyo, Japan',
          tagline: 'Industry 5.0 • Human-Centered Robotics • Social Robots • Teleoperation • Digital Twins',
          email: 'name@example.com',
          location: 'Tokyo, Japan',
          github: 'https://github.com/enriquecoronadozu',
          linkedin: 'https://www.linkedin.com/in/enrique-coronado-zu/',
          scholar: 'https://scholar.google.com/citations?user=YOUR_SCHOLAR_ID',
          raUrl: '#',     // AIST RA information page (JP)
          jspsUrl: 'https://www.jsps.go.jp/english/e-fellow/',   // JSPS fellowship info
        })

        const nav = [
          { label: 'Ongoing Projects', href: '#current-projects' },
          { label: 'Video demostrations', href: '#projects' },
          { label: 'Publications', href: '#publications' },
          { label: 'Biography', href: '#bio' },   // ← add this
          { label: 'Collaborate & Contact', href: '#collab' },   // <-- add this
        ]

        const bio = Vue.reactive({
          focus: [
            'Human–Robot Interaction',
            'Teleoperation',
            'Social & Service Robotics',
            'Robotics Software',
            'Human Digital Twins',
            'Imitation Learning',
            'XR for Collaboration'
          ],
          timeline: [
            { when: '2024 — Present', title: 'Senior Researcher', place: 'Human-Evolving AI & Robotics Research Team, AIST, Japan' },
            { when: '2022 — 2024', title: 'Researcher', place: 'Automation Research Team, AIST, Japan' },
            { when: '2020 — 2022', title: 'Assistant Professor', place: 'Tokyo University of Agriculture and Technology, Japan' },
            { when: '2020', title: 'Ph.D., Mechanical Systems Engineering', place: 'Tokyo University of Agriculture and Technology, Japan' },
            { when: '2017', title: 'M.S., Advanced Robotics (EMARO+)', place: 'University of Genoa (Italy) & Ecole Centrale de Nantes (France)' },
            { when: '2012', title: 'B.S., Mechatronics Engineering', place: 'Autonomous University of San Luis Potosí, Mexico' }
          ]
        })



        const currentProjects = [
          {
            title: 'LLM-Driven and Multimodal Teleoperation',
            desc: 'Control robots using natural language (voice/text) and gestures (body/hand) for intuitive and accesible teleoperation.',
            tags: ['LLMs', 'Mediapipe', 'Robotic arm', 'Mobile manipulator'],
            icon: 'code',
            since: '2025',
            status: 'Active'
          },
          {
            title: 'Digital Twins for Safe Human-Robot-Collaboration',
            desc: 'NVIDIA Isaac Sim–based digital twins of humans and robots for ergonomic and safety analysis in human–robot collaboration',
            tags: ['Isaac Sim', 'Industry 5.0', 'ROS 2', 'Robotic arm'],
            icon: 'code',
            since: '2025',
            status: 'Active'
          },
          {
            title: 'Design and Develop Social Robots for Well-being',
            desc: 'Developing open-source social robotics hardware and software that enhance human well-being through interaction.',
            tags: ['Social Robotics', 'Well-being'],
            icon: 'code',
            since: '2024',
            status: 'Active'
          },
          {
            title: 'Scene Graph and LLMs for Manipulation and Navigation',
            desc: 'Enable robots to perform a wide variety of tasks through advanced scene understanding and language models.',
            tags: ['Scene Graph', 'LLMs', 'Mobile manipulator'],
            icon: 'code',
            since: '2024',
            status: 'Active'
          },
          {
            title: 'Develop VR/AR interfaces for Teleoperation',
            desc: 'Use Unity/Unreal Engine + Nvidia Issac Sim for immersive and intuitive teleoperation experiences using Meta Quest 3',
            tags: ['Teleoperation', 'VR/AR', 'Unity', 'Robotic arm'],
            icon: 'code',
            since: '2024',
            status: 'Active'
          },
        ]

        const projects = Vue.ref([
          { title: 'TeleSign (soon)', year: '2025', desc: 'A flexible Gesture-based teleoperation framework for inclusion.', tags: ['ROS 2', 'Isaac Sim', 'Gestures', 'Internship results'], url: '#' },
          { title: 'NICE (soon)', year: '2025', desc: 'LLM‑powered reasoning fused with scene graphs for navigation.', tags: ['LLMs', 'Scene Graphs'], url: '#' },
          { title: 'MRTwin (soon)', year: '2025', desc: 'VR/AR telepresence baseline framework using Unity + ROS2 + Issac Sim.', tags: ['Unity', 'XR', 'Telepresence', 'Internship results'], url: '#' },
          {
            title: 'Few-shot Imitation Learning',
            year: '2024',
            desc: 'Enabling robots to not only mimic actions but also adapt to new environments with minimal demonstrations.',
            tags: ['Imitation Learning', 'Internship results'],
            youtube: 'wjS1Om5kO2Q'
          },
          {
            title: 'Hold My Hand',
            year: '2023',
            desc: 'Enabling Pepper robot to walk side-by-side while holding hands and reacting to the environment',
            tags: ['Humanoid', 'Force Control', 'Companion Robot', 'Master student co-supervision'],
            youtube: 'aVKmIPbaSO8' // from https://www.youtube.com/embed/aVKmIPbaSO8?...
          },
          { title: 'Yokobo', year: '2022', desc: 'Yōkobo is a robject designed to strengthen the bond between members (e.g., a couple).', tags: ['Social robotics', 'Human-Centered Design', 'PhD student co-supervision'], youtube: 'YIrGxi4nnt4' },
          { title: 'IREX 2019', year: '2020', desc: 'Showcase cutting-edge robot interaction in a public venue, engaging of hundreds of visitors', tags: ['Human–obot interaction', 'Robots in the wild'], youtube: 'nb775Ahd3yM' },
        ])

        const publications = Vue.ref([
          { year: '2024', venue: 'IEEE Robotics and Automation Letters', title: 'Adaptive contact-rich manipulation through few-shot imitation learning with Force-Torque feedback and pre-trained object representations', authors: 'Tsuji, C., Coronado, E., Osorio, P., & Venture, G.', doi: 'https://doi.org/10.1109/LRA.2024.3497713' },
          { year: '2023', venue: 'Applied Sciences', title: 'Integrating virtual, mixed, and augmented reality to human–robot interaction applications using game engines: A brief review of accessible software tools and frameworks', authors: 'E. Coronado et al.', doi: 'https://doi.org/10.3390/app13031292' },
          { year: '2022', venue: 'Journal of Manufacturing Systems', title: 'Evaluating quality in human-robot interaction: A systematic search and classification of performance and human-centered factors, measures and metrics towards an industry 5.0', authors: 'E. Coronado et al.', doi: 'https://doi.org/10.1016/j.jmsy.2022.04.007' },
          { year: '2021', venue: 'IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)', title: 'Assembly action understanding from fine-grained hand motions, a multi-camera and deep learning approach', authors: 'E. Coronado et al.', doi: 'https://doi.org/10.1109/IROS51168.2021.9636715' },
        ])

        const skills = [
          'ROS 2', 'ZeroMQ', 'Isaac Sim', 'Unity', 'Python', 'Vue', 'LLMs/VLMs', 'Human‑Centered Design'
        ]

        const query = Vue.ref('')
        const filter = Vue.ref('all')

        const filteredProjects = computed(() => {
          return projects.value.filter(p => {
            const inFilter = filter.value === 'all' || p.area === filter.value
            const inQuery = (p.title + ' ' + p.desc + ' ' + p.tags.join(' ')).toLowerCase().includes(query.value.toLowerCase())
            return inFilter && inQuery
          })
        })


        function sendMessage() {
          console.log('Contact form submitted:', JSON.parse(JSON.stringify(form)))
          alert('Thanks! Your message was logged to the console. Replace with a real endpoint.')
        }

        const form = Vue.reactive({ name: '', email: '', message: '' })

        onMounted(() => {
          // Icon mount
          lucide.createIcons()
          // Scroll‑in animations
          const io = new IntersectionObserver(entries => {
            entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('show') } })
          }, { threshold: .12 })
          document.querySelectorAll('.fade-up').forEach(el => io.observe(el))
        })



        return {
          uiScale, zoomIn, zoomOut, zoomReset,
          meta, nav, currentProjects, projects, publications, skills,
          query, filter, filteredProjects, form, news, newsSorted, formatDate,
          bio,
        }
      }
    }).mount('#app')
  </script>

  <script>
    const ease = 'easeInOutCubic';

    // —— Elements
    const j1 = document.querySelector('#j1');
    const j2 = document.querySelector('#j2');
    const j3 = document.querySelector('#j3');          // wrist (unique)
    const jawL = document.querySelector('#jawL');
    const jawR = document.querySelector('#jawR');
    const cube = document.querySelector('#cube');
    const stage = document.querySelector('g[clip-path]');   // world layer
    const anchor = document.querySelector('#payloadAnchor'); // child of gripper

    // —— Geometry (keep in sync with your pads / cube)
    const padPick = { x: 465, y: 420, w: 60, h: 12 };
    const padLift = { x: 315, y: 390, w: 60, h: 12 };
    const cubeSize = 28;

    const pickXY = { x: padPick.x + padPick.w / 2 - cubeSize / 2, y: padPick.y - cubeSize };
    const placeXY = { x: padLift.x + padLift.w / 2 - cubeSize / 2, y: padLift.y - cubeSize };

    // —— Poses (deg)
    const home = [-100, 70, 20];
    const pick = [-45, 45, 90];
    const lift = [-100, 100, 90];  // "place" pose
    const finish = [-100, 70, 20];

    // —— Gripper gaps
    const OPEN = 22;
    const CLOSED = 18;

    // —— Helpers
    function resetState() {
      // Kill any running tweens to avoid fighting values
      anime.remove([j1, j2, j3, jawL, jawR, cube]);

      // Make sure cube lives in world, not inside gripper
      if (cube.parentNode !== stage) stage.appendChild(cube);

      // Put cube back on pick pad
      cube.setAttribute('x', pickXY.x);
      cube.setAttribute('y', pickXY.y);

      // Reset joints + jaws instantly
      anime.set(j1, { rotate: home[0] });
      anime.set(j2, { rotate: home[1] });
      anime.set(j3, { rotate: home[2] });
      anime.set(jawL, { translateX: -OPEN });
      anime.set(jawR, { translateX: OPEN });
    }

    function attachCube() {
      // Center cube between jaws in gripper-local coords
      if (cube.parentNode !== anchor) {
        cube.setAttribute('x', -cubeSize / 2);
        cube.setAttribute('y', -cubeSize);
        anchor.appendChild(cube);
      }
    }

    function detachCubeAtPlace() {
      if (cube.parentNode === anchor) {
        stage.appendChild(cube);
        cube.setAttribute('x', placeXY.x);
        cube.setAttribute('y', placeXY.y);
      }
    }

    // —— One full cycle (recreated every time for a clean loop)
    function startCycle() {
      resetState();

      const tMove = 1100, tGrip = 450, tLift = 800, tHome = 1100;

      const tl = anime.timeline({
        autoplay: true,
        loop: false,            // we loop manually via complete callback
        easing: ease,
        complete: startCycle    // run again when the cycle ends
      });

      // 1) Move to PICK (parallel)
      tl.add({ targets: j1, rotate: pick[0], duration: tMove }, 0)
        .add({ targets: j2, rotate: pick[1], duration: tMove }, 0)
        .add({ targets: j3, rotate: pick[2], duration: tMove }, 0)
        .add({ duration: 150 });

      // 2) CLOSE jaws, then ATTACH cube (strict order)
      tl.add({ targets: jawL, translateX: -CLOSED, duration: tGrip })
        .add({ targets: jawR, translateX: CLOSED, duration: tGrip }, `-=${tGrip}`)
        .add({ duration: 1, begin: attachCube })
        .add({ duration: 150 });

      // 3) Carry to LIFT pose (cube follows because it's parented)
      tl.add({ targets: j1, rotate: lift[0], duration: tLift })
        .add({ targets: j2, rotate: lift[1], duration: tLift }, `-=${tLift}`)
        .add({ targets: j3, rotate: lift[2], duration: tLift }, `-=${tLift}`)
        .add({ duration: 150 });

      // 4) OPEN jaws, then DETACH cube at the lift pad
      tl.add({ targets: jawL, translateX: -OPEN, duration: tGrip })
        .add({ targets: jawR, translateX: OPEN, duration: tGrip }, `-=${tGrip}`)
        .add({ duration: 1, begin: detachCubeAtPlace })
        .add({ duration: 200 });

      // 5) Return HOME (parallel)
      tl.add({ targets: j1, rotate: finish[0], duration: tHome })
        .add({ targets: j2, rotate: finish[1], duration: tHome }, `-=${tHome}`)
        .add({ targets: j3, rotate: finish[2], duration: tHome }, `-=${tHome}`)
        .add({ duration: 10000 });
    }

    // Kick off
    startCycle();
  </script>
</body>

</html>